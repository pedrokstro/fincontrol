### üß™ TESTES DO SISTEMA PREMIUM
### Execute cada requisi√ß√£o em ordem

### Vari√°veis
@baseUrl = http://localhost:5000/api/v1
@token = SEU_TOKEN_AQUI


### ========================================
### 1Ô∏è‚É£ LOGIN - Obter Token
### ========================================
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "demo@financeiro.com",
  "password": "demo123"
}

### üìù COPIE o accessToken da resposta e cole na vari√°vel @token acima!


### ========================================
### 2Ô∏è‚É£ VERIFICAR STATUS (Deve ser FREE)
### ========================================
GET {{baseUrl}}/subscription/status
Authorization: Bearer {{token}}

### Resposta esperada:
### {
###   "planType": "free",
###   "isPremium": false,
###   "isActive": false
### }


### ========================================
### 3Ô∏è‚É£ TESTAR BLOQUEIO - Emojis Premium (Deve dar 403)
### ========================================
GET {{baseUrl}}/categories/premium/emojis
Authorization: Bearer {{token}}

### Resposta esperada: 403 Forbidden
### {
###   "code": "FEATURE_PREMIUM_REQUIRED",
###   "message": "Acesso negado..."
### }


### ========================================
### 4Ô∏è‚É£ ATIVAR PLANO PREMIUM
### ========================================
POST {{baseUrl}}/subscription/activate
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "durationMonths": 1
}

### Resposta esperada:
### {
###   "success": true,
###   "message": "Plano Premium ativado com sucesso!",
###   "data": {
###     "planType": "premium",
###     "isPremium": true
###   }
### }


### ========================================
### 5Ô∏è‚É£ VERIFICAR STATUS NOVAMENTE (Deve ser PREMIUM)
### ========================================
GET {{baseUrl}}/subscription/status
Authorization: Bearer {{token}}

### Resposta esperada:
### {
###   "planType": "premium",
###   "isPremium": true,
###   "isActive": true,
###   "daysRemaining": 30,
###   "features": [
###     "basic_categories",
###     "basic_transactions",
###     "basic_reports",
###     "advanced_emojis",      ‚Üê NOVO!
###     "custom_categories",     ‚Üê NOVO!
###     "advanced_reports",      ‚Üê NOVO!
###     "export_unlimited",      ‚Üê NOVO!
###     "priority_support"       ‚Üê NOVO!
###   ]
### }


### ========================================
### 6Ô∏è‚É£ TESTAR ACESSO PERMITIDO - Emojis Premium (Deve dar 200)
### ========================================
GET {{baseUrl}}/categories/premium/emojis
Authorization: Bearer {{token}}

### Resposta esperada: 200 OK
### {
###   "success": true,
###   "data": {
###     "emojis": ["üéØ", "üé®", "üé≠", ...],
###     "isPremium": true
###   }
### }


### ========================================
### 7Ô∏è‚É£ OBTER FEATURES DISPON√çVEIS
### ========================================
GET {{baseUrl}}/subscription/features
Authorization: Bearer {{token}}

### Resposta esperada:
### {
###   "features": [...todas as features premium...],
###   "isPremium": true
### }


### ========================================
### 8Ô∏è‚É£ RENOVAR PLANO (Adicionar 3 meses)
### ========================================
POST {{baseUrl}}/subscription/renew
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "durationMonths": 3
}

### Resposta esperada:
### {
###   "message": "Plano Premium renovado com sucesso!",
###   "data": {
###     "planEndDate": "2025-05-07..." ‚Üê 4 meses no total
###   }
### }


### ========================================
### 9Ô∏è‚É£ CANCELAR PLANO PREMIUM
### ========================================
POST {{baseUrl}}/subscription/cancel
Authorization: Bearer {{token}}

### Resposta esperada:
### {
###   "message": "Plano Premium cancelado com sucesso",
###   "data": {
###     "planType": "free",
###     "isPremium": false
###   }
### }


### ========================================
### üîü VERIFICAR BLOQUEIO AP√ìS CANCELAMENTO (Deve dar 403)
### ========================================
GET {{baseUrl}}/categories/premium/emojis
Authorization: Bearer {{token}}

### Resposta esperada: 403 Forbidden
### {
###   "code": "FEATURE_PREMIUM_REQUIRED",
###   "message": "Acesso negado..."
### }


### ========================================
### ‚úÖ CHECKLIST DE VALIDA√á√ÉO
### ========================================
### [ ] 1. Login funcionou e retornou token
### [ ] 2. Status inicial √© "free"
### [ ] 3. Rota premium bloqueada (403) para usu√°rio free
### [ ] 4. Ativa√ß√£o de premium funcionou
### [ ] 5. Status mudou para "premium"
### [ ] 6. Rota premium permitida (200) para usu√°rio premium
### [ ] 7. Features premium listadas corretamente
### [ ] 8. Renova√ß√£o estendeu data de expira√ß√£o
### [ ] 9. Cancelamento voltou para "free"
### [ ] 10. Rota premium bloqueada (403) ap√≥s cancelamento
